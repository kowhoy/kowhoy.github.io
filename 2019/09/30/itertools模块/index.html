
<!DOCTYPE html>
<html lang="zh" class="loading">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>itertools模块 - ko_whoy</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="ko_whoy,"> 
    <meta name="description" content="迭代器
迭代器是 惰性求值(lazy evaluation) 的, 只有在迭代到某个值的时候才会计算，而不是一开始就计算好，所以迭代器适合遍历大文件或者无限集合等。

itertools模块
pyt,"> 
    <meta name="author" content="ko_whoy"> 
    <link rel="alternative" href="atom.xml" title="ko_whoy" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link href="/font/Rubik-Bold-kern-latin.woff2" as="font" type="font/woff2" crossorigin>
    <link href="/font/Rubik-Regular-kern-latin.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_7jr8c7mf4wi.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.7.2/animate.min.css">
    <link rel="stylesheet" href="/css/obsidian.css">
</head>
</html>
<body class="loading">
    <span id="config-title" style="display:none">ko_whoy</span>
    <div id="loader"></div>
    <div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a id="home-icon" class="image-icon icon-home iconfont" href="javascript:;" data-url="https://kowhoy.github.io"></a>
    <div id="play-icon" title="Play/Pause" class="iconfont icon-play"></div>
    <h3 class="subtitle">itertools模块</h3>
    <div class="social">
<!--        <div class="like-icon">-->
<!--            <a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
<!--        </div>-->
<!--        <div>-->
<!--            <div class="share">-->
<!--                <a title="Get qrcode" id="qr-icon" href="javascript:;" class="iconfont icon-QRcode-o"></a>-->
<!--            </div>-->
<!--            <div id="qr"></div>-->
<!--        </div>-->
    </div>
</div>

    <div class="section">
        <div class= article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
            animation-delay: 600ms;
            animation-duration: 1.2s;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(/img/cover.jpg);">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                    <a href="javascript:;"><b>「 </b>Article<b> 」</b></a>
                
                September 30, 2019
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/2019/09/30/itertools模块/" title="itertools模块">itertools模块</a></h3>
            
                <p class="post-count animated fadeInDown">
                    
                        <span>
                        <b class="iconfont icon-text2"></b> <i>Words count</i>
                        11k
                    </span>
                    
                    
                        <span>
                        <b class="iconfont icon-timer__s"></b> <i>Reading time</i>
                        10 mins.
                    </span>
                    
                    
                    
                </p>
            
            
                <ul class="animated fadeInDown post-tags-list"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/python/">python</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span></span>  
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn slower">
            <h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><blockquote>
<p>迭代器是 <strong><em>惰性求值(lazy evaluation)</em></strong> 的, 只有在迭代到某个值的时候才会计算，而不是一开始就计算好，所以迭代器适合遍历大文件或者无限集合等。</p>
</blockquote>
<h3 id="itertools模块"><a href="#itertools模块" class="headerlink" title="itertools模块"></a>itertools模块</h3><blockquote>
<p>python的内置模块itertools包含了可以产生三种类型迭代器的函数和类，这些函数或者类返回的都是迭代器，可以使用 <strong><em>for</em></strong> 语句或者 <strong><em>next()</em></strong> 进行取值</p>
</blockquote>
<h4 id="三种迭代器"><a href="#三种迭代器" class="headerlink" title="三种迭代器"></a>三种迭代器</h4><blockquote>
<ul>
<li>无限迭代器: 生成一个无限序列，比如自然数序列 0, 1, 2, 3, ……</li>
<li>有限迭代器: 接受一个或者多个序列作为参数，进行组合、分组、过滤等</li>
<li>组合迭代器: 序列的排列、组合、笛卡尔积等</li>
</ul>
</blockquote>
<hr>
<h4 id="无限迭代器"><a href="#无限迭代器" class="headerlink" title="无限迭代器"></a>无限迭代器</h4><h4 id="1-count-firstval-step"><a href="#1-count-firstval-step" class="headerlink" title="1. count(firstval, step)"></a>1. count(firstval, step)</h4><pre><code>@desc: 生成firstval开始的，步长为step的无限迭代器
@params: firstval 开始值(默认为0)
         step 步长</code></pre><p>example:</p>
<pre><code class="python">In [1]: from itertools import count
In [2]: for i in count(0, 2): 
   ...:     if i &gt; 12: 
   ...:         break 
   ...:     print(i) 
   ...:                                                                                             
0
2
4
6
8
10
12</code></pre>
<h4 id="2-cycle-iterable"><a href="#2-cycle-iterable" class="headerlink" title="2. cycle(iterable)"></a>2. cycle(iterable)</h4><pre><code>@desc: 将可迭代的对象反复执行循环
@param: iterable 可迭代对象</code></pre><p>example:</p>
<pre><code class="python">In [3]: count = 0 
In [4]: from itertools import cycle 
In [5]: for s in cycle([1,2,3]): 
   ...:     count += 1 
   ...:     print(count, s) 
   ...:     if count &gt;= 10: 
   ...:         break 
   ...:                                                                   

1 1
2 2
3 3
4 1
5 2
6 3
7 1
8 2
9 3
10 1</code></pre>
<h4 id="3-repeat-object-times"><a href="#3-repeat-object-times" class="headerlink" title="3. repeat(object [,times])"></a>3. repeat(object [,times])</h4><pre><code>@desc: 重复times生成object
@params: object 需要生成的对象
        [times] 重复次数</code></pre><p>example:</p>
<pre><code class="python">In [6]: from itertools import repeat
In [7]: for s in repeat([1, 2, 4], 4): 
   ...:     print(s) 
   ...:                                                                      

[1, 2, 4]
[1, 2, 4]
[1, 2, 4]
[1, 2, 4]

In [8]: count = 0
In [9]: for s in repeat([1, 3, 4]): 
   ...:     count += 1 
   ...:     print(count, s) 
   ...:     if count &gt;= 3: 
   ...:         break 
   ...:                                                                           

1 [1, 3, 4]
2 [1, 3, 4]
3 [1, 3, 4]</code></pre>
<hr>
<h4 id="有限迭代器"><a href="#有限迭代器" class="headerlink" title="有限迭代器"></a>有限迭代器</h4><h4 id="1-chain-iter1-iter2-iter3-……"><a href="#1-chain-iter1-iter2-iter3-……" class="headerlink" title="1. chain(iter1, iter2, iter3, ……)"></a>1. chain(iter1, iter2, iter3, ……)</h4><pre><code>@desc: 将多个可迭代对象进行连接成一个迭代器
@params: 多个可迭代对象</code></pre><p>example:</p>
<pre><code class="python">In [10]: from itertools import chain                                                                

In [11]: for s in chain([1,2,3], &#39;ABC&#39;, (7,8,0)): 
    ...:     print(s) 
    ...:                                                                                            
1
2
3
A
B
C
7
8
0</code></pre>
<h4 id="2-compress-data-selectors"><a href="#2-compress-data-selectors" class="headerlink" title="2. compress(data, selectors)"></a>2. compress(data, selectors)</h4><pre><code>@desc: 保留和selectors为True对应位置的data数据, 否则舍弃
@params: data  待处理的数据
        selectors true or false 选择器</code></pre><p>example:</p>
<pre><code class="python">In [12]: from itertools import compress                                                             

In [13]: for s in compress(&#39;ABABABAB&#39;, [1, 0, 1, 0, 1, 0, 1, 0]): 
    ...:     print(s) 
    ...:                                                                                            
A
A
A
A</code></pre>
<h4 id="3-dropwhile-predicate-iterable"><a href="#3-dropwhile-predicate-iterable" class="headerlink" title="3. dropwhile(predicate, iterable)"></a>3. dropwhile(predicate, iterable)</h4><pre><code>@desc: 对每个iterable元素执行predicate函数，为True舍弃，否则返回该项【及所有后续项】
@params: predicate 函数
         iterable 可迭代对象</code></pre><p>example:</p>
<pre><code class="python">In [14]: from itertools import dropwhile                                                            

In [15]: for s in dropwhile(lambda x: x&gt;5, [6,6,7,4,3,2,9,7]): 
    ...:     print(s) 
    ...:                                                                                            
4
3
2
9
7</code></pre>
<h4 id="4-groupby-iterable-keyfunc"><a href="#4-groupby-iterable-keyfunc" class="headerlink" title="4. groupby(iterable [, keyfunc])"></a>4. groupby(iterable [, keyfunc])</h4><pre><code>@desc: 根据keyfunc(可选)对iterable进行分组，默认是将连续相同的元组分为一组
@paras: iterable可迭代对象
        [keyfunc] 分组依据
@return: key: sub-iterator</code></pre><p>example:</p>
<pre><code class="python">In [16]: from itertools import groupby                                                              

In [17]: for key, se in groupby(&#39;ABCACCDEFA&#39;): 
    ...:     print(key, &quot;:&quot;, list(se)) 
    ...:                                                                                            
A : [&#39;A&#39;]
B : [&#39;B&#39;]
C : [&#39;C&#39;]
A : [&#39;A&#39;]
C : [&#39;C&#39;, &#39;C&#39;]
D : [&#39;D&#39;]
E : [&#39;E&#39;]
F : [&#39;F&#39;]
A : [&#39;A&#39;]

In [19]: for key, se in groupby([1, 2, 3, -1, -1, 2, -3], abs): 
    ...:     print(key, &#39;:&#39;, list(se)) 
    ...:                                                                                            
1 : [1]
2 : [2]
3 : [3]
1 : [-1, -1]
2 : [2]
3 : [-3]</code></pre>
<h4 id="5-islice-iterable-start-stop-step"><a href="#5-islice-iterable-start-stop-step" class="headerlink" title="5. islice(iterable [, start], stop [, step])"></a>5. islice(iterable [, start], stop [, step])</h4><pre><code>@desc: 切片
@params: iterable 可迭代对象
         [start] 开始索引
         stop 结束索引
         [step] 步长</code></pre><p>example:</p>
<pre><code class="python">In [20]: from itertools import islice, count                                                        

In [21]: list(islice([1, 2, 2, 42, 4, 5, 6], 4))                                                    
Out[21]: [1, 2, 2, 42]

In [22]: list(islice([1,2,3,4,5,6,7,8,9], 1, 6, 2))                                                 
Out[22]: [2, 4, 6]

In [23]: list(islice(count(2,2), 6))                                                                
Out[23]: [2, 4, 6, 8, 10, 12]
</code></pre>
<h4 id="6-tee-iterable-n"><a href="#6-tee-iterable-n" class="headerlink" title="6. tee(iterable [, n])"></a>6. tee(iterable [, n])</h4><pre><code>@desc: 创建n个iterable迭代器
@params: iterable 可迭代对象
         n 迭代器个数</code></pre><p>example:</p>
<pre><code class="python">In [24]: from itertools import tee                                                                  

In [25]: list(list(tee(&#39;asdasda&#39;))[0])                                                              
Out[25]: [&#39;a&#39;, &#39;s&#39;, &#39;d&#39;, &#39;a&#39;, &#39;s&#39;, &#39;d&#39;, &#39;a&#39;]

In [26]: list(tee(&#39;asdasda&#39;)[0])                                                                    
Out[26]: [&#39;a&#39;, &#39;s&#39;, &#39;d&#39;, &#39;a&#39;, &#39;s&#39;, &#39;d&#39;, &#39;a&#39;]</code></pre>
<h4 id="7-takewhile-func-iterable"><a href="#7-takewhile-func-iterable" class="headerlink" title="7. takewhile(func, iterable)"></a>7. takewhile(func, iterable)</h4><pre><code>@desc: 当func(item)为true时，保留，当出现false时候立即停止
@params: func 判断函数
         iterable 可迭代对象</code></pre><p>example:</p>
<pre><code class="python">In [28]: from itertools import takewhile                                                            

In [29]: list(takewhile(lambda x: x&lt;5, [1, 2, 4, 5, 3, 6, 2]))                                      
Out[29]: [1, 2, 4]</code></pre>
<hr>
<h4 id="组合生成器"><a href="#组合生成器" class="headerlink" title="组合生成器"></a>组合生成器</h4><h4 id="1-product-iter1-iter2-iter3-…"><a href="#1-product-iter1-iter2-iter3-…" class="headerlink" title="1. product(iter1, iter2, iter3 …..)"></a>1. product(iter1, iter2, iter3 …..)</h4><pre><code>@desc: 多个可迭代对象笛卡尔积
@params: 多个可迭代对象</code></pre><p>example:</p>
<pre><code class="python">In [30]: from itertools import product                                                              

In [31]: for i in product([1, 2, 3], &#39;ABS&#39;, (1, 3, 4)): 
    ...:     print(i) 
    ...:                                                                                            
(1, &#39;A&#39;, 1)
(1, &#39;A&#39;, 3)
(1, &#39;A&#39;, 4)
(1, &#39;B&#39;, 1)
(1, &#39;B&#39;, 3)
(1, &#39;B&#39;, 4)
(1, &#39;S&#39;, 1)
(1, &#39;S&#39;, 3)
(1, &#39;S&#39;, 4)
(2, &#39;A&#39;, 1)
(2, &#39;A&#39;, 3)
(2, &#39;A&#39;, 4)
(2, &#39;B&#39;, 1)
(2, &#39;B&#39;, 3)
(2, &#39;B&#39;, 4)
(2, &#39;S&#39;, 1)
(2, &#39;S&#39;, 3)
(2, &#39;S&#39;, 4)
(3, &#39;A&#39;, 1)
(3, &#39;A&#39;, 3)
(3, &#39;A&#39;, 4)
(3, &#39;B&#39;, 1)
(3, &#39;B&#39;, 3)
(3, &#39;B&#39;, 4)
(3, &#39;S&#39;, 1)
(3, &#39;S&#39;, 3)
(3, &#39;S&#39;, 4)
</code></pre>
<h4 id="2-permutations-iterable-r"><a href="#2-permutations-iterable-r" class="headerlink" title="2. permutations(iterable [, r])"></a>2. permutations(iterable [, r])</h4><pre><code>@desc: 生成一个排列
@params: iterable 可迭代对象
         [r] 生成长度，默认为迭代对象长度</code></pre><p>example:</p>
<pre><code class="python">In [32]: from itertools import permutations                                                         

In [33]: for s in permutations(&#39;ABC&#39;, 2): 
    ...:     print(s) 
    ...:                                                                                            
(&#39;A&#39;, &#39;B&#39;)
(&#39;A&#39;, &#39;C&#39;)
(&#39;B&#39;, &#39;A&#39;)
(&#39;B&#39;, &#39;C&#39;)
(&#39;C&#39;, &#39;A&#39;)
(&#39;C&#39;, &#39;B&#39;)</code></pre>
<h4 id="3-combinations-iterable-r"><a href="#3-combinations-iterable-r" class="headerlink" title="3. combinations(iterable, r)"></a>3. combinations(iterable, r)</h4><pre><code>@desc: 序列的组合
@params: iterable 可迭代对象
         r 组合元素长度</code></pre><p>example:</p>
<pre><code class="python">In [34]: from itertools import combinations                                                         

In [35]: list(combinations(&#39;ABS&#39;, 2))                                                               
Out[35]: [(&#39;A&#39;, &#39;B&#39;), (&#39;A&#39;, &#39;S&#39;), (&#39;B&#39;, &#39;S&#39;)]</code></pre>
<h4 id="4-combinations-with-replacement-iterable-r"><a href="#4-combinations-with-replacement-iterable-r" class="headerlink" title="4. combinations_with_replacement(iterable, r)"></a>4. combinations_with_replacement(iterable, r)</h4><pre><code>@desc: 同combinations，不同的是包含了自身元素</code></pre><p>example:</p>
<pre><code class="python">In [36]: from itertools import combinations_with_replacement                                        

In [37]: list(combinations_with_replacement(&#39;ABS&#39;, 2))                                              
Out[37]: [(&#39;A&#39;, &#39;A&#39;), (&#39;A&#39;, &#39;B&#39;), (&#39;A&#39;, &#39;S&#39;), (&#39;B&#39;, &#39;B&#39;), (&#39;B&#39;, &#39;S&#39;), (&#39;S&#39;, &#39;S&#39;)]</code></pre>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='/statics/chengdu.mp3'></li>
                        
                    
                </ul>
            
            
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="https://res.cloudinary.com/tridiamond/image/upload/v1571154379/TriDiamondLogoCircleLighting_llbad2.png" height=300 width=300></img>
                    <p>ko_whoy</p>
                    <span>Don`t worry, be happy</span>
                    <dl>
                        <dd><a href="https://github.com/kowhoy" target="_blank"><span class=" iconfont icon-github"></span></a></dd>
                        <dd><a href="https://twitter.com/kowhoy" target="_blank"><span class=" iconfont icon-twitter"></span></a></dd>
                        <dd><a href="https://stackoverflow.com/users" target="_blank"><span class=" iconfont icon-stack-overflow"></span></a></dd>
                    </dl>
                </div>
                <ul>
                    <li><a href="/">6 <p>Articles</p></a></li>
                    <li><a href="/categories">1 <p>Categories</p></a></li>
                    <li><a href="/tags">7 <p>Tags</p></a></li>
                </ul>
            </div>
            
        </div>
    </div>
</div>


    </div>
</div>
    <div id="back-to-top" class="animated fadeIn faster">
        <div class="flow"></div>
        <span class="percentage animated fadeIn faster">0%</span>
        <span class="iconfont icon-top02 animated fadeIn faster"></span>
    </div>
</body>
<footer>
    <p class="copyright" id="copyright">
        &copy; 2019
        <span class="gradient-text">
            ko_whoy
        </span>.
        Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
        Theme
        <span class="gradient-text">
            <a href="https://github.com/TriDiamond/hexo-theme-obsidian" title="Obsidian" target="_blank" rel="noopener">Obsidian</a>
            <small><a href="https://github.com/TriDiamond/hexo-theme-obsidian/blob/master/CHANGELOG.md" title="1.3.1" target="_blank" rel="noopener">1.3.1</a></small>
        </span>
    </p>
</footer>

<script src="//cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="//cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>
<script src="//cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>



<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






    <!-- Highlight.js -->
    <link rel="stylesheet" href="/css/dracula.css">
    <script src="//cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js">
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });
    </script>


<script>
    function initialTyped () {
        var typedTextEl = $('.typed-text');
        if (typedTextEl && typedTextEl.length > 0) {
            var typed = new Typed('.typed-text', {
                strings: ["Don`t worry, be happy", ""],
                typeSpeed: 90,
                loop: true,
                loopCount: Infinity,
                backSpeed: 20,
            });
        }
    }

    if ($('.article-header') && $('.article-header').length) {
        $(document).ready(function () {
            initialTyped();
        });
    }
</script>


</html>
